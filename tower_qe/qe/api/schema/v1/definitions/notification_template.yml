notification_template:
  # FIXME: change to 'additionalProperties: false' once we decide on the type for 'value'
  # https://github.com/ansible/ansible-tower/issues/713
  additionalProperties: false
  properties:
    created: {format: date-time, type: string}
    description: {type: string}
    id: {$ref: '#/definitions/id'}
    modified: {format: date-time, type: string}
    name: {type: string}
    notification_configuration: {type: object}  # FIXME: Use oneOf to validate different forms this can take
    notification_type: {$ref: '#/definitions/enum_notification_type'}
    organization: {$ref: '#/definitions/id_or_null'}
    related:
      additionalProperties: false
      properties:
        created_by: {format: uri, type: string}
        modified_by: {format: uri, type: string}
        notifications: {format: uri, type: string}
        organization: {format: uri, type: string}
        test: {format: uri, type: string}
      required: [created_by, modified_by, test, notifications]
      type: object
    summary_fields:
      additionalProperties: false
      properties:
        created_by: {$ref: '#/definitions/summary_fields_user'}
        modified_by: {$ref: '#/definitions/summary_fields_user'}
        organization: {$ref: '#/definitions/summary_fields_organization'}
        recent_notifications: {minItems: 0, type: array, uniqueItems: true}
        user_capabilities: {$ref: '#/definitions/summary_fields_user_capabilities'}
      required: [created_by, modified_by, recent_notifications, user_capabilities]
      type: object
    type: {pattern: ^notification_template$, type: string}
    url: {format: uri, type: string}
  required: [id, type, url, related, summary_fields, created, modified, name, description,
    organization, notification_type, notification_configuration]
  type: object
