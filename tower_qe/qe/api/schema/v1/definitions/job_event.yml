---
job_event:
    type: object
    required: [ id, url, created, modified, job, event, event_display, event_level, failed, changed, host, parent, play, task, event_data, related, summary_fields, counter, type, uuid, stdout, verbosity, end_line, playbook, start_line]
    additionalProperties: False
    properties:
        type: { type: string, pattern: ^job_event$ }
        id: { type: number, minimum: 1, }
        url: { type: string, format: uri}
        uuid: { type: string }
        stdout: { type: string }
        verbosity: { minimum: 0, type: integer }
        end_line: { minimum: 0, type: integer }
        start_line: { minimum: 0, type: integer }
        playbook: { type: string }
        created:  { type: string, format: date-time, }
        modified: { type: string, format: date-time, }
        job: { type: number, minimum: 1, }
        event: { type: string }
        # event: { $ref: '#/definitions/enum_job_event' }
        event_display: { type: string }
        # event_display: { $ref: '#/definitions/enum_job_event_display' }
        event_level: { type: number }
        failed: { type: boolean, }
        changed: { type: boolean, }
        host: { $ref: '#/definitions/id_or_null' }
        host_name: { type: string }
        parent: { $ref: '#/definitions/id_or_null' }
        counter: { type: number, minimum: 0 }
        play: { type: string, }
        task: { type: string, }
        role: { type: string }
        event_data:
            type: object
            # FIXME - what are the required values here?
            additionalProperties: true
            properties:
                skipped:  { type: object, }
                ok:  { type: object, }
                changed:  { type: object, }
                dark:  { type: object, }
                processed:  { type: object, }
                failures:  { type: object, }
                is_conditional: { type: boolean, }
                res:  { type: object, }
                play: { type: string, }
                task: { type: string, }
                name: { type: string, }

        related:
            type: object
            required: [ job, ]
            additionalProperties: False
            properties:
                job:   { type: string, format: uri }
                parent: { type: string, format: uri }
                children: { type: string, format: uri }
                host: { type: string, format: uri }
                hosts: { type: string, format: uri }
        summary_fields:
            type: object
            required: [ job, ]
            additionalProperties: True
            properties:
                "job": { $ref: '#/definitions/summary_fields_last_job' }
