[pytest]
log-date-format = %Y-%m-%d %H:%M:%S
log-format = {asctime} {filename} {lineno} {levelname} {message}
python_files = *.py
testpaths = tests/api
addopts =
    --ansible-become
    --ansible-host-pattern=ansible-tower-web-svc-tower-qe.openshift.ansible.eng.rdu2.redhat.com
    --ansible-inventory=playbooks/inventory_openshift
    --api-credentials=config/credentials.yml
    --api-destructive
    --api-untrusted
    --api-debug
    --github-cfg=config/credentials.yml
    --base-url=https://ansible-tower-web-svc-tower-qe.openshift.ansible.eng.rdu2.redhat.com
    --junit-xml=reports/junit/results.xml
    -m 'not (benchmark or performance or ui or requires_single_instance or requires_traditional_cluster or skip_openshift)'
    --no-print-logs
    --tb=native
    --instafail
    --capture=sys
    -v
markers =
    ansible_integration : Marks tests that exercise the integration of Ansible Tower with Ansible Core
    requires_cluster : Marks tests that require HA Tower in any form
    requires_traditional_cluster : Marks tests that can only run against non-containerized HA Tower
    requires_openshift_cluster : Marks tests that can only run against OpenShift HA Tower
    requires_single_instance : Marks test that can only run against standalone Tower
    skip_docker : Marks tests that are not compatible with the dev container and will be skipped appropriately
    skip_openshift : Marks tests that are not compatible with OpenShift and will be skipped appropriately
